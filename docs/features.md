# 株主対話デモアプリケーション - 機能仕様書

## 概要
Azure OpenAI GPT-4.1-miniを使用した株主と取締役の対話シミュレーションアプリケーション

## 実装済み機能

### 1. 多言語対応機能 🌐

#### 対応言語
- 日本語 (ja) - 既定言語
- English (en)
- 中文 (zh)
- Deutsch (de)
- Français (fr)
- Español (es)
- 한국어 (ko)

#### 機能詳細
- 設定画面に言語選択ドロップダウンを配置
- 選択した言語に応じて以下が該当言語で生成される：
  - 株主からの質問
  - 取締役からの回答
  - 対話の要約
  - システムメッセージ
- 言語設定はローカルストレージに保存され、次回起動時に復元

#### 技術実装
- `languageConfig` オブジェクトで各言語のプロンプトテンプレートを管理
- `handleLanguageChange()` メソッドで言語変更を処理
- 対話生成時に選択された言語のプロンプトを使用

### 2. レイアウト最適化 📐

#### 変更内容
- **分割比率**: 左右パネルの比率を1:1から1:2に変更
  - 左パネル（PDF関連）: 1/3の幅
  - 右パネル（対話関連）: 2/3の幅
- **マージン調整**: 横方向マージンをpx-4からpx-2に削減
- **間隔調整**: パネル間のgapを6pxから4pxに縮小

#### 効果
- 対話表示領域の拡大
- より見やすい対話インターフェース
- 画面の有効活用

### 3. PDFプレビュー制約 🎯

#### 問題解決
- PDFプレビューが右パネルにはみ出す問題を解決

#### 実装内容
```css
.pdf-preview {
    max-width: 100%;
    overflow: hidden;
}

.pdf-preview canvas {
    max-width: 100%;
    height: auto;
}
```

#### 効果
- PDF表示が左パネル内に適切に収まる
- レスポンシブ対応の向上

## 設定とデータ管理

### ローカルストレージ
- `azureOpenAIConfig`: Azure OpenAI接続設定
- `selectedLanguage`: 選択された対話言語

### 設定の永続化
- 言語選択は自動的に保存される
- アプリケーション起動時に前回の設定を復元

## 使用方法

### 1. 言語設定
1. 「🔧 Azure OpenAI 接続設定」セクションの「🌐 対話言語」ドロップダウンから言語を選択
2. 設定は自動的に保存される

### 2. 対話実行
1. Azure OpenAI接続設定を入力
2. PDFファイルをアップロード
3. 「🚀 対話開始」ボタンをクリック
4. 選択された言語で対話が生成される

## 技術仕様

### フロントエンド
- HTML5
- CSS3 (Tailwind CSS)
- JavaScript (ES6)

### 外部サービス
- Azure OpenAI GPT-4.1-mini
- PDF.js (PDFプレビュー)

### ブラウザ対応
- モダンブラウザ全般
- レスポンシブデザイン対応

## 今後の拡張可能性

### 言語追加
- `languageConfig`オブジェクトに新しい言語を追加することで容易に拡張可能
- UIの選択肢にoptionタグを追加

### UIカスタマイズ
- Tailwind CSSを使用しているため、レスポンシブ対応やスタイル変更が容易

### 機能拡張
- 対話履歴の保存・復元機能
- カスタムプロンプトテンプレート機能
- 音声読み上げ機能